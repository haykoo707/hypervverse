<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="styles.css">
    <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-3QW0MCBKEC"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>


<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-3QW0MCBKEC');
</script>

<title>HyperVerse</title>

<script>
  const tg = window.Telegram.WebApp;
  tg.expand(); // full screen
</script>

</head>
<body>
</script>
<canvas id="starCanvas"></canvas>
  <div class="app-container">
    <!-- ’é’•÷Ä÷á’´ ’ø’∏’≤ -->
    <div class="top-bar">
      <div class="social-icons">
        <button class="mobile-menu-btn" onclick="toggleMenu()" aria-label="Menu">
          <i class="fas fa-bars"></i></button>
         <button id="inviteButton1" class="invite-button1">
            <i class="fas fa-user-friends"></i></button>



          <!-- Popup -->
<div id="popupOverlay1" class="popup-overlay1">
  <div class="popup-content1">
    <h2 style=" margin-bottom: 15px; ">Invite your frens!</h2>
    <p style=" margin-bottom: 15px;">Share your referral link so we can become famous‚ù§Ô∏è</p>
    <div class="referral-section">
      <input type="text" id="referralLink" value="https://t.me/hyperrverse_bot" readonly />
      <button id="copyButton" class="copy-button">Copy</button>
    </div>

    <a id="shareTelegram" class="share-telegram" href="#" target="_blank">
      <i class="fab fa-telegram-plane"></i>
      Share on Telegram
    </a>
    <button id="closePopup1" class="close-button1">Close</button>
  </div>
</div>
                  
        

<script>

const inviteButton = document.getElementById('inviteButton1');
const popupOverlay = document.getElementById('popupOverlay1');
const closePopup = document.getElementById('closePopup1');
const copyButton = document.getElementById('copyButton');
const referralLink = document.getElementById('referralLink');
const shareTelegram = document.getElementById('shareTelegram');

inviteButton.addEventListener('click', () => {
  popupOverlay.classList.add('active');
  
  // Update Telegram share link
  const link = referralLink.value;
  const message = encodeURIComponent(`Hey! Join here: ${link}`);
  shareTelegram.href = `https://t.me/share/url?url=${link}&text=${message}`;
});

closePopup.addEventListener('click', () => {
  popupOverlay.classList.remove('active');
});

copyButton.addEventListener('click', () => {
  referralLink.select();
  document.execCommand('copy');
  copyButton.innerText = 'Copied!';
  setTimeout(() => {
    copyButton.innerText = 'Copy';
  }, 1500);
});

// Create the menu on page load
window.addEventListener('DOMContentLoaded', () => {
  const topBar = document.querySelector('.top-bar');

  // Create menu container
  const menu = document.createElement('div');
  menu.id = 'mobile-menu';
  menu.className = 'menu-dropdown hidden';

  // Menu items
  const items = [
    { text: 'Telegram', href: 'https://t.me/HyperrVersee' },
    { text: 'Website', href: 'https://hyper070.github.io/UNIVERSE/' },
    { text: 'About Us', href: '    ' },
  ];

  items.forEach(item => {
    const a = document.createElement('a');
    a.href = item.href;
    a.textContent = item.text;
    a.target = '_blank'; // üëâ ’¢’°÷Å’´ ’∂’∏÷Ä tab-’∏÷Ç’¥
    a.rel = 'noopener noreferrer'; // üîê ’°’∂’æ’ø’°’∂’£’∏÷Ç’©’µ’∏÷Ç’∂
    menu.appendChild(a);
  });

  // Append menu to top-bar
  topBar.appendChild(menu);
});

        
          // Toggle menu visibility
          function toggleMenu() {
            const menu = document.getElementById('mobile-menu');
            if (menu) {
              menu.classList.toggle('hidden');
            }
          }
        
          // Optional: Click outside to close
          document.addEventListener('click', (e) => {
            const button = document.querySelector('.mobile-menu-btn');
            const menu = document.getElementById('mobile-menu');
        
            if (menu && !button.contains(e.target) && !menu.contains(e.target)) {
              menu.classList.add('hidden');
            }
          });
          function toggleMenu() {
  const menu = document.getElementById('mobile-menu');
  if (menu) {
    menu.classList.toggle('show');
    menu.classList.remove('hidden');
  }
}

        </script>
        
      </div>
      <div class="title"></div>
      <i class="fas fa-star"></i>
      <div class="score">
        <i class="fas fa-star"></i>
         <span id="userScore">ùü¨
        </span>
      </div>
    </div>
    <!-- Tabs ’¢’°’™’´’∂ -->
    <div class="tabs">
    </button>
    <button class="tab-button active" data-tab="play">
<img src="Picsart_25-03-28_20-51-07-122.jpg" alt="play-xax" class="play-icon">
</button>
      <button class="tab-button" data-tab="home">
        <img src="Picsart_25-03-28_20-52-07-873.jpg" alt="Tasks" class="tasks-icon">
        <button class="tab-button" data-tab="daily-reward">
          <img src="Picsart_25-03-28_20-51-28-628.jpg" alt="Reward" class="reward-icon">

      <button class="tab-button" data-tab="profile">
        <img src="Picsart_25-03-28_20-52-49-352.jpg" alt="Profile" class="profile-icon">
      </button>
    </div>
    <!-- ‘≤’∏’æ’°’∂’§’°’Ø’∏÷Ç’©’µ’°’∂ ’Ø’∏’∂’ø’•’µ’∂’•÷Ä -->
    <div class="content">
      <!-- Home Tab (Tasks) -->
      <div id="home" class="tab-content">
        <div class="task-section">
          <h2 >
            <i class="fas fa-tasks"></i> 
            Tasks
          </h2>
                    <div class="task-list" id="taskList">
            <!-- Tasks ’∂’•÷Ä’¥’∏÷Ç’Æ’æ’∏÷Ç’¥ ’•’∂ JS-’∏’æ -->
          </div>
        </div>
      </div>
 <!-- Daily Reward Tab (’Ü’∏÷Ä ’¢’°’™’´’∂) -->
<div id="daily-reward" class="tab-content">
  <div class="daily-reward-section">
      <div class="reward-card">
        <h2><i class="fas fa-trophy"></i> Daily Reward</h2>
        <div class="reward-timer" id="rewardTimer">Available now</div>
        <button class="reward-btn" id="claimRewardBtn" onclick="handleDailyClaim()">
          Claim 5000 <i class="fas fa-star"></i>
      </button>
      </div>
      <p style="color: #666; text-align: center;">
          Claim your reward every 24 hours!
      </p>
  </div>

  <!-- Daily Quest Section -->
  <div class="daily-quest-section">
      <div class="reward-card">
        <h2><i class="fas fa-scroll"></i> Daily Quest</h2>
        <input class="" type="text" id="dailyCodeInput" placeholder="Enter today's code" />
          <button class="reward-btn" id="submitQuestBtn" onclick="handleDailyQuest()">Submit Code</button>
          <div id="questMessage" style="color: #666; text-align: center; margin-top: 10px;"></div>
      </div>
      <p style="color: #666; text-align: center;">
          Enter the correct code once every 24 hours!
      </p>
  </div>

  <div class="mystery-box-section">
    <button id="mysteryBtn" class="open-btn">
        <i class="fas fa-box-open fa-2x"></i>
        <span></span>
    </button>
</div>


  <!-- Mystery Box Popup -->
  <div id="mysteryPopup" class="popup">
      <div class="popup-content">
          <span class="close">&times;</span>
          <h2>üéâ Mystery Boxes üéâ</h2>
          <div class="boxes">
            <div class="box gold" data-cost="5000">
              <i class="fas fa-coins fa-lg" style="color: #464439;"></i>
              Gold Box<br>
              <small>-5000 <i class="fas fa-star"></i></small>
          </div>
          
          <div class="box diamond" data-cost="15000">
              <i class="fas fa-gem fa-lg" style="color: #00d0ff;"></i>
              Diamond Box<br>
              <small>-10000 <i class="fas fa-star"></i></small>          
            </div>         
           </div>
      </div>
  </div>
</div>

    
      <!-- profile Tab -->
      <div id="profile" class="tab-content">
        <div class="profile-section">
          <div class="profile-info" id="profileInfo"></div>
          <div id="connect" style="
          margin-top: 20px;  
        padding: p15x;
        border-radius: 8px;
        position: absolute;
        left: 50%; 
        transform: translateX(-50%);"></div> 
        </div>
      </div>

     <!-- Play Tab -->
<div id="play" class="tab-content active">
  <h2 class="glow"> ú è·¥ò·¥á Ä·¥†·¥á ÄÍú±·¥á</h2>
  <a href="game.html">
    <button class="play-btn"><span>‚ñ∂</span></button>
  </a>

    </div>
</div>

  

<div class="loading-screen" id="loadingScreen">
  <img src="photo_2025-04-25_23-12-33.jpg" alt="Loading..." class="loading-image animate-loading">
  <h5 class="loadingh5">5.1.x</h5> 
</div>


<!-- ‘¥÷Ä’° ’∞’°’¥’°÷Ä ’ø’•’≤’°’§÷Ä’´÷Ä ’Ω’° ÷Ñ’∏ body-’´ ’æ’•÷Ä’ª’∏÷Ç’¥ -->
<div id="notification" class="notification hidden">
  <span class="check">‚úîÔ∏è</span>
  <span>You got +100<i class="fas fa-star"></i></span>
</div>

<div id="notification" class="notification hidden"></div>
<div id="notification" class="notification hidden"></div>



<script>
    // ’ç’ø’∏÷Ç’£’•’¨, ’°÷Ä’§’µ’∏÷Ñ ’Ø’°’µ÷Ñ’® ’¢’°÷Å’æ’°’Æ ’ß Telegram-’´ ’¥’•’ª
    function checkTelegramContext() {
        if (window.Telegram && Telegram.WebApp) {
            Telegram.WebApp.ready(); // ‘±’Ø’ø’´’æ’°÷Å’∂’•’¨ WebApp-’®
            Telegram.WebApp.expand(); // ‘∏’∂’§’¨’°’µ’∂’•’¨ ’ß’Ø÷Ä’°’∂’®
        } else {
            // ’à’π Telegram ’¥’´’ª’°’æ’°’µ÷Ä’∏÷Ç’¥ ’ß
            window.location.href = "https://t.me/hyperrverse_bot"; // ’ì’∏’≠’°÷Ä’´’∂’•’¨ ’±’•÷Ä ’¢’∏’ø’´ ’∞’≤’∏÷Ç’¥’∏’æ
            // ‘ø’°’¥ ÷Å’∏÷Ç’µ÷Å ’ø’°’¨ ’Ω’≠’°’¨’´ ’∞’°’≤’∏÷Ä’§’°’£÷Ä’∏÷Ç’©’µ’∏÷Ç’∂
            // document.body.innerHTML = "<h1>’Ñ’∏÷Ç’ø÷Ñ’® ’¥’´’°’µ’∂ Telegram-’´ ’¥’´’ª’∏÷Å’∏’æ</h1>";
        }
    }

    // ’ç’Ø’¶’¢’∂’°’æ’∏÷Ä’•’¨ ’Ω’ø’∏÷Ç’£’∏÷Ç’¥’®
    checkTelegramContext();
</script>

  <script>
    
    const tonConnectUI = new TON_CONNECT_UI.TonConnectUI({
            manifestUrl: 'https://haykoo707.github.io/hypervverse/tonconnect-manifest.json',
            buttonRootId: 'connect'
            
        });
        async function transaction() {
        const transaction = {
            validUntil: Math.round(Date.now() / 1000) + 10,
            messages: [
                {
                    address: "UQBfrU75WGhBLnRpBs1ImWE5sPdxKsFMBgogpD578JxXyDbK",
                    amount: "1000000" // Example amount in nanoton
                }
            ]
        };

    try {
        await tonConnectUI.sendTransaction(transaction);
        console.log("Transaction sent successfully!");
    } catch (e) {
        console.error("Failed to send transaction:", e);
    }
}
</script>
  <script>
      setTimeout(() => {
          document.getElementById("loadingScreen").style.opacity = "0";
          setTimeout(() => {
              document.getElementById("loadingScreen").style.display = "none";
          }, 3000);
      }, 1900);
  </script>

  <script>
  
    // ’ï’£’ø’°’ø’´÷Ä’∏’ª ’¥’´’°’æ’∏÷Ä’∂’•÷Ä’® (’∞’•’º’•’¨’∏’æ ’Ω’Ø’¶’¢’∂’°’Ø’°’∂ ’°÷Ä’™’•÷Ñ’® localStorage-’´÷Å, ’•’©’• ’Ø’°’∂)
   
    const playButton = document.querySelector('.play-btn');
const closeButton = document.querySelector('.close-btn');
const ball = document.getElementById('ball');
const scoreDisplay = document.getElementById('score');
// ’ç’ø’•’≤’Æ’∏÷Ç’¥ ’•’∂÷Ñ bonus ’ß’¨’•’¥’•’∂’ø’®
let bonus = document.createElement('div');
bonus.id = 'bonus';
bonus.classList.add('hidden');
const dailyCode = "1234"; // ‚úÖ ’ì’∏’≠’°÷Ä’´’∂’´÷Ä ÷Ñ’∏ ÷Ö÷Ä’æ’° ’Ø’∏’§’∏’æ
const questCooldownKey = "dailyQuestCooldown";
const userScoreKey = "userScore"; // üî• ’ä’°’∞’∏÷Ç’¥ ’•’∂÷Ñ score Local Storage-’∏÷Ç’¥





let userScore = parseInt(localStorage.getItem('userScore')) || 5000;
localStorage.setItem('userScore', userScore);
let score = 0;

const TASKS_VERSION = "v14"; // ’Ü’∏÷Ä task ’°’æ’•’¨’°÷Å’∂’•’¨’´’Ω ÷É’∏’≠’´÷Ä ’°’µ’Ω ’ø’°÷Ä’¢’•÷Ä’°’Ø’®



// ’ç’Ø’¶’¢’∂’°’Ø’°’∂ tasks-’•÷Ä’®
const defaultTasks = [
{
    id: 1,
    title: 'Join Telegram Channel',
    icon: 'https://cdn-icons-png.flaticon.com/512/4926/4926616.png', // ’ï÷Ä’´’∂’°’Ø ’∫’°’ø’Ø’•÷Ä’°’Ø’´ ’∞’°’Ω÷Å’•
    link: 'https://t.me/yourchannel',
    reward: 1000,
    status: 'pending',
    claimAvailable: false,
    timerId: null
},

    {
        id: 2,
        title: 'Join HyperVerse X Community',
        link: 'https://t.me/HyperrVersee',
        reward: 2000,
        status: 'pending',
        claimAvailable: false,
        timerId: null,
        icon: 'https://cdn-icons-png.flaticon.com/512/733/733579.png'
    },
    {
        id: 3,
        title: 'Follow Instagram',
        link: 'https://t.me/someOtherChannel',
        reward: 2000,
        status: 'pending',
        claimAvailable: false,
        timerId: null,
        icon: 'https://cdn-icons-png.flaticon.com/512/1384/1384063.png'
    },

    {
        id: 4,
        title: 'Follow TikTok',
        link: 'https://t.me/someOtherChannel',
        reward: 2000,
        status: 'pending',
        claimAvailable: false,
        timerId: null,
        icon: 'https://cdn-icons-png.flaticon.com/512/3046/3046122.png'
    },
 

];

let tasks = [];

function saveState() {
    localStorage.setItem('userScore', userScore);
    localStorage.setItem('tasks', JSON.stringify(tasks));
    const claimedIds = tasks
        .filter(t => t.status === 'claimed')
        .map(t => t.id);
    localStorage.setItem('claimedTaskIds', JSON.stringify(claimedIds));
    localStorage.setItem('tasksVersion', TASKS_VERSION);
}


function loadState() {
    const savedVersion = localStorage.getItem('tasksVersion');
    const savedScore = localStorage.getItem('userScore');
    const savedTasks = localStorage.getItem('tasks');
    const savedClaimedIds = localStorage.getItem('claimedTaskIds');

    let claimedIds = [];
    if (savedClaimedIds) {
        claimedIds = JSON.parse(savedClaimedIds);
    }

    if (savedScore !== null) {
        userScore = parseInt(savedScore, 10);
    }

    if (savedTasks !== null && savedVersion === TASKS_VERSION) {
        let loadedTasks = JSON.parse(savedTasks);

        // ’Ä’°’∂’∏÷Ç’¥ ’•’∂÷Ñ ’°’µ’∂ task-’•÷Ä’® ’∏÷Ä’∏’∂÷Ñ ’°’µ’¨÷á’Ω ’π’Ø’°’∂ ’Ø’°’¥ ’°÷Ä’§’•’∂ Claimed ’•’∂
        loadedTasks = loadedTasks.filter(savedTask =>
            defaultTasks.some(defaultTask => defaultTask.id === savedTask.id) &&
            !claimedIds.includes(savedTask.id)
        );

        // ‘±’æ’•’¨’°÷Å’∂’∏÷Ç’¥ ’•’∂÷Ñ ’∂’∏÷Ä’•÷Ä’®, ’•’©’• ’π’•’∂ Claimed
        defaultTasks.forEach(defaultTask => {
            const exists = loadedTasks.some(t => t.id === defaultTask.id);
            if (!exists && !claimedIds.includes(defaultTask.id)) {
                loadedTasks.push({ ...defaultTask });
            }
        });

        tasks = loadedTasks;
    } else {
        // First load ’Ø’°’¥ version mismatch ‚Äì ’¥’°÷Ñ÷Ä’∏÷Ç’¥ ’•’∂÷Ñ claimed-’∂’•÷Ä’®
        tasks = defaultTasks.filter(t => !claimedIds.includes(t.id));
    }

    tasks.filter(task => task.status !== 'claimed').forEach(task => {
        if (task.status === 'started') {
            task.status = 'pending';
            task.claimAvailable = false;
            task.timerId = null;
        }
    });

    saveState();
}




        // ‘µ’©’• ’∏÷Ä÷á’ß task ’∂’°’≠’Ø’´’∂’∏÷Ç’¥ ’¥’∂’°÷Å’•’¨ ’ß÷Ä "started", ’¢’•÷Ä’∏÷Ç’¥ ’•’∂÷Ñ "pending"
        tasks.filter(task => task.status !== 'claimed').forEach(task => {
            if (task.status === 'started') {
                task.status = 'pending';
                task.claimAvailable = false;
                task.timerId = null;
            }
        });
   

    saveState();



// Tasks ÷Å’∏÷Ç÷Å’°’§÷Ä’∏÷Ç’¥’® (Home Tab)
function renderTasks() {
    const taskList = document.getElementById('taskList');
    taskList.innerHTML = '';

    tasks.filter(task => task.status !== 'claimed').forEach(task => {
        const taskItem = document.createElement('div');
        taskItem.classList.add('task-item');

        // ’Å’°’≠ ’¥’°’Ω: Icon, Title, Reward
        const taskLeft = document.createElement('div');
        taskLeft.classList.add('task-left');
        const iconDiv = document.createElement('div');
iconDiv.classList.add('task-icon');

if (task.icon && task.icon.startsWith('http')) {
    const img = document.createElement('img');
    img.src = task.icon;
    img.alt = 'icon';
    img.style.width = '24px';
    img.style.height = '24px';
    iconDiv.appendChild(img);
} else {
    iconDiv.textContent = task.icon || '';
}


        const taskInfo = document.createElement('div');
        taskInfo.classList.add('task-info');

        const taskTitle = document.createElement('div');
        taskTitle.classList.add('task-title');
        taskTitle.textContent = task.title;

        const taskReward = document.createElement('div');
        taskReward.classList.add('task-reward');
        taskReward.innerHTML = `+${task.reward} <i class="fas fa-star"></i>`;
        taskInfo.appendChild(taskTitle);
        taskInfo.appendChild(taskReward);
        taskLeft.appendChild(iconDiv);
        taskLeft.appendChild(taskInfo);

        // ‘±’ª ’¥’°’Ω: ‘≥’∏÷Ä’Æ’∏’≤’∏÷Ç’©’µ’°’∂ ’Ø’∏’≥’°’Ø
        const taskRight = document.createElement('div');
        taskRight.classList.add('task-right');
        const actionBtn = document.createElement('button');

        if (task.status === 'pending') {
            actionBtn.textContent = 'Start';
            actionBtn.classList.add('start-btn');
            actionBtn.addEventListener('click', () => handleStart(task.id));
        } else if (task.status === 'started') {
            if (!task.claimAvailable) {
                actionBtn.textContent = 'Wait...';
                actionBtn.classList.add('waiting-btn');
                actionBtn.disabled = true;
            } else {
                actionBtn.textContent = 'Claim';
                actionBtn.classList.add('claim-btn');
                actionBtn.addEventListener('click', () => handleClaim(task.id));
            }
        } else if (task.status === 'claimed') {
            actionBtn.textContent = 'Claimed';
            actionBtn.classList.add('claimed-btn');
            actionBtn.disabled = true;
        }

        taskRight.appendChild(actionBtn);
        taskItem.appendChild(taskLeft);
        taskItem.appendChild(taskRight);
        taskList.appendChild(taskItem);
    });
}

// Start ’Ø’∏’≥’°’Ø’´ ’£’∏÷Ä’Æ’∏’≤’∏÷Ç’©’µ’∏÷Ç’∂’®
function handleStart(taskId) {
    const taskIndex = tasks.findIndex(t => t.id === taskId);
    if (taskIndex === -1) return;
    const task = tasks[taskIndex];

    // ‘≤’°’∂’∏÷Ç’¥ ’•’∂÷Ñ ’∞’≤’∏÷Ç’¥’® ’∂’∏÷Ä ’∫’°’ø’∏÷Ç’∞’°’∂’∏÷Ç’¥
    window.open(task.link, '_blank');

    // ’ì’∏’≠’∏÷Ç’¥ ’•’∂÷Ñ ’´÷Ä’°’æ’´’≥’°’Ø’®’ù 'started'
    task.status = 'started';
    task.claimAvailable = false;

    // ’ç’Ø’Ω’∏÷Ç’¥ ’•’∂÷Ñ 20 ’æ’°’µ÷Ä’Ø’µ’°’∂’°’∂’∏÷Å ’©’°’µ’¨’¥’°’ù ’∞’•’ø’∏ Claim ’Ø’∏’≥’°’Ø’® ’Ø’Ω’ø’°÷Å’æ’´
    task.timerId = setTimeout(() => {
        task.claimAvailable = true;
        renderTasks();
        saveState();
    }, 20000);

    renderTasks();
    saveState();
}

// Claim ’Ø’∏’≥’°’Ø’´ ’£’∏÷Ä’Æ’∏’≤’∏÷Ç’©’µ’∏÷Ç’∂’®
function handleClaim(taskId) {
    const taskIndex = tasks.findIndex(t => t.id === taskId);
    if (taskIndex === -1) return;
    const task = tasks[taskIndex];

    userScore += task.reward;
    updateScore();
    showNotification(`You got +${task.reward} <i class="fas fa-star"></i>`);
    // ’ì’∏’≠’∏÷Ç’¥ ’•’∂÷Ñ ’æ’´’≥’°’Ø’®
    task.status = 'claimed';
    task.claimAvailable = false;

    // ’Ä’•’º’°÷Å’∂’∏÷Ç’¥ ’•’∂÷Ñ ’∞’´’∂ ’©’°’µ’¥’•÷Ä’®
    if (task.timerId) {
        clearTimeout(task.timerId);
        task.timerId = null;
    }

    saveState();
    renderTasks();
}







    // ’Ñ’´’°’æ’∏÷Ä’∂’•÷Ä’´ ’©’°÷Ä’¥’°÷Å’∏÷Ç’¥
    function updateScore() {
      document.getElementById('userScore').textContent = userScore;
      localStorage.setItem('userScore', userScore);
    }

    // Tabs ÷É’∏’≠’¥’°’∂ ’ø÷Ä’°’¥’°’¢’°’∂’∏÷Ç’©’µ’∏÷Ç’∂
    function setupTabs() {
      const tabButtons = document.querySelectorAll('.tab-button');
      const tabContents = document.querySelectorAll('.tab-content');

      tabButtons.forEach(button => {
        button.addEventListener('click', () => {
          tabButtons.forEach(btn => btn.classList.remove('active'));
          tabContents.forEach(tc => tc.classList.remove('active'));

          const tab = button.getAttribute('data-tab');
          button.classList.add('active');
          document.getElementById(tab).classList.add('active');
        });
      });
    }

    // ¬´Close¬ª ’Ø’∏’≥’°’Ø’´ ’£’∏÷Ä’Æ’∏’≤’∏÷Ç’©’µ’∏÷Ç’∂’® (÷Ö÷Ä’´’∂’°’Ø’°’µ’´’∂)
    function setupCloseButton() {
      }

    // ‘≤’∏’¨’∏÷Ä ’¢’∏’æ’°’∂’§’°’Ø’∏÷Ç’©’µ’°’∂ ’Ω’Ø’¶’¢’∂’°’æ’∏÷Ä’∏÷Ç’¥’®
    function initApp() {
      loadState();
      setupTabs();
      setupCloseButton();
      renderTasks();
      renderLeaderboard();
      renderFriends();
      updateScore();
    }

    document.addEventListener('DOMContentLoaded', initApp);

     // ’ï’£’ø’°’ø’´÷Ä’∏’ª ’∫÷Ä’∏÷Ü’´’¨’´ ’ø’æ’µ’°’¨’∂’•÷Ä
     let userProfile = {
      score: localStorage.getItem("userScore") ? parseInt(localStorage.getItem("userScore")) : 0
    };

    function renderProfile() {
  const profileInfo = document.getElementById('profileInfo');

  const medals = [
    { 
        score: 100,
        emoji: '<i class="fas fa-medal" style="color: #cd7f32;"></i>',
        label: 'Bronze Medal'
    },
    { 
        score: 10000,
        emoji: '<i class="fas fa-medal" style="color: #c0c0c0;"></i>',
        label: 'Silver Medal'
    },
    { 
        score: 50000,
        emoji: '<i class="fas fa-medal" style="color: #ffd700;"></i>',
        label: 'Gold Medal'
    },
    { 
        score: 150000,
        emoji: '<i class="fas fa-trophy" style="color: #e5e4e2;"></i>',
        label: 'Platinum Medal'
    },
    { 
        score: 500000,
        emoji: '<i class="fas fa-gem" style="color: #b9f2ff;"></i>',
        label: 'Diamond Medal'
    },
    { 
        score: 1000000,
        emoji: '<i class="fas fa-trophy" style="color: #gold;"></i>',
        label: 'Millionaire Medal'
    },
    { 
        score: 5000000,
        emoji: '<i class="fas fa-crown" style="color: #ffd700;"></i>',
        label: 'Legend Medal'
    },
    { 
        score: 10000000,
        emoji: '<i class="fas fa-infinity" style="color: #4b0082;"></i>',
        label: 'God Mode Medal'
    },
];

  const currentMedal = medals
    .reverse()
    .find(medal => userProfile.score >= medal.score);

    profileInfo.innerHTML = `
  <h2 style="color: #fff; margin-bottom: 12px;"></h2>
  <div class="profile-item">
    <img 
      src="${Telegram.WebApp.initDataUnsafe.user.photo_url}" 
      class="profile-photo"
      alt="Profile photo"
    >
    <div class="profile-info">
      <span class="username">
        @${Telegram.WebApp.initDataUnsafe.user.username}
      </span>
     <span class="total-score">
  Total ${userProfile.score} <i class="fas fa-star"></i>
</span>
    </div>
  </div>


    <div class="medals-container">
      <h3>üéñÔ∏è Current Title</h3>
      ${currentMedal 
        ? `<div class="medal">
            <span class="medal-emoji">${currentMedal.emoji}</span>
            <span class="medal-label">${currentMedal.label}</span>
          </div>` 
        : '<p>No title earned yet.</p>'
      }
    </div>

<button class="withdraw-btn" onclick="withdraw()">
  Withdraw <i class="fas fa-lock"></i>
</button> 

<button class="sp-btn" onclick="window.location.href='paymentsup.html'">
  Support the project <i class="fas fa-hand-holding-usd"></i>
</button>  `;
}




     // ’ï’£’ø’°’ø’´÷Ä’∏’ª ’∫÷Ä’∏÷Ü’´’¨’´ ’ø’æ’µ’°’¨’∂’•÷Ä
     let userairdrop = {
      score: localStorage.getItem("userScore") ? parseInt(localStorage.getItem("userScore")) : 0
    };

  

    // ‘ª’∂’´÷Å’´’°’¨’´’¶’°÷Å’´’°
    function initApp() {
      loadState();
      setupTabs();
      setupCloseButton();
      renderTasks();
      renderLeaderboard();
      renderProfile(); // ’ì’∏’≠’æ’°’Æ ’ß renderFriends()-’´÷Å
      updateScore();
    }
    

    // ’Ñ’∂’°÷Å’°’Æ ’Ø’∏’§’® ’¥’∂’∏÷Ç’¥ ’ß ’∂’∏÷Ç’µ’∂’®...

    // Daily Reward ’∞’°’¥’°’Ø’°÷Ä’£
    let lastClaimTime = localStorage.getItem('lastClaimTime') || 0;
    let rewardInterval;

    // Daily Reward-’´ ÷Å’∏÷Ç÷Å’°’§÷Ä’∏÷Ç’¥
    function renderDailyReward() {
      const now = Date.now();
      const timeLeft = 86400000 - (now - lastClaimTime);
      const claimBtn = document.getElementById('claimRewardBtn');
      const timerEl = document.getElementById('rewardTimer');

      if (timeLeft > 0) {
        claimBtn.disabled = true;
        updateTimerDisplay(timeLeft);
        startTimer();
      } else {
        claimBtn.disabled = false;
        timerEl.textContent = "available now";
      }
    }

    // ‘π’°’µ’¥’•÷Ä’´ ÷Å’∏÷Ç÷Å’°’§÷Ä’∏÷Ç’¥
    function updateTimerDisplay(ms) {
      const hours = Math.floor(ms / 3600000);
      const minutes = Math.floor((ms % 3600000) / 60000);
      const seconds = Math.floor((ms % 60000) / 1000);
      
      document.getElementById('rewardTimer').textContent = 
        `Next reward in: ${hours}h ${minutes}m ${seconds}s`;
    }

    // ‘π’°’µ’¥’•÷Ä’´ ’Ω’Ø’Ω’∏÷Ç’¥
    function startTimer() {
      clearInterval(rewardInterval);
      rewardInterval = setInterval(() => {
        const timeLeft = 86400000 - (Date.now() - lastClaimTime);
        if (timeLeft <= 0) {
          renderDailyReward();
          clearInterval(rewardInterval);
        } else {
          updateTimerDisplay(timeLeft);
        }
      }, 1000);
    }

    // Claim-’´ ’¥’∑’°’Ø’∏÷Ç’¥
    function handleDailyClaim() {
  lastClaimTime = Date.now();
  localStorage.setItem('lastClaimTime', lastClaimTime);
  
  userScore += 5000;
  updateScore();
  renderDailyReward();

  // ’Ü’∏÷Ä ’°’æ’•’¨’°÷Å’æ’°’Æ ’¥’°’Ω
  showNotification(`+5000 <i class="fas fa-star"></i> Claimed!`);}


    // ‘ª’∂’´÷Å’´’°’¨’´’¶’°÷Å’´’°
    function initApp() {
      loadState();
      setupTabs();
      setupCloseButton();
      renderTasks();
      renderDailyReward(); // ’ì’∏’≠’æ’°’Æ ’ß
      renderProfile();
      updateScore();
    }

    document.addEventListener("DOMContentLoaded", () => {
            const buttons = document.querySelectorAll(".tab-button");
            const contents = document.querySelectorAll(".tab-content");

            buttons.forEach(button => {
                button.addEventListener("click", () => {
                    const targetTab = button.getAttribute("data-tab");

                    // Remove active class from previous tab & button
                    document.querySelector(".tab-button.active").classList.remove("active");
                    document.querySelector(".tab-content.active").classList.remove("active");

                    // Add fade-out effect
                    setTimeout(() => {
                        contents.forEach(content => content.style.display = "none");

                        // Activate the new tab
                        document.getElementById(targetTab).style.display = "block";
                        setTimeout(() => document.getElementById(targetTab).classList.add("active"), 10);
                    }, 400);

                    // Add active class to the clicked button
                    button.classList.add("active");
                });
            });
        });


        const canvas = document.getElementById("starCanvas");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

// ‘±’Ω’ø’≤’•÷Ä
const stars = [];
const numStars = 242;

for (let i = 0; i < numStars; i++) {
    stars.push({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        radius: Math.random() * 1,
        speed: Math.random() * 0.1 + 0.1,
        alpha: Math.random(),
        alphaDirection: Math.random() < 0.5 ? -1 : 1
    });
}

// üî• ’Ñ’•’ø’•’∏÷Ä’∂’•÷Ä’´ ’¶’°’∂’£’æ’°’Æ
const meteors = [];

const numMeteors = 3; // ‘ø’°÷Ä’∏’≤ ’•’Ω ’°’æ’•’¨’°÷Å’∂’•’¨

const colors = ["white","lightyellow"];

for (let i = 0; i < numMeteors; i++) {
    let speedScale = Math.random() < 0.2 ? 0.2 : 1; // ’§’°’∂’§’°’≤ ’Ø’°’¥ ’°÷Ä’°’£ ’¥’•’ø’•’∏÷Ä

    meteors.push({
        x: Math.random() * canvas.width,
        y: Math.random() * -canvas.height, // ’ø’°÷Ä’¢’•÷Ä ’¢’°÷Ä’±÷Ä’∏÷Ç’©’µ’∏÷Ç’∂’´÷Å
        speedX: (1 + Math.random()) * speedScale,
        speedY: (1 + Math.random()) * speedScale,
        length: 50 + Math.random() * 30,
        color: colors[Math.floor(Math.random() * colors.length)]
    });
}

function drawMeteor(meteor) {
    // ’ä’∏’π’®’ù gradient
    ctx.beginPath();
    let gradient = ctx.createLinearGradient(
        meteor.x, meteor.y,
        meteor.x - meteor.length, meteor.y - meteor.length
    );
    gradient.addColorStop(0, meteor.color);
    gradient.addColorStop(1, "transparent");
    ctx.strokeStyle = gradient;
    ctx.lineWidth = 3;
    ctx.moveTo(meteor.x, meteor.y);
    ctx.lineTo(meteor.x - meteor.length, meteor.y - meteor.length);
    ctx.stroke();

    // ‘π’°÷Ä’¥’°÷Å’∂’∏÷Ç’¥ ’•’∂÷Ñ ’§’´÷Ä÷Ñ’®
    meteor.x += meteor.speedX;
    meteor.y += meteor.speedY;

    // ‘µ’©’• ’§’∏÷Ç÷Ä’Ω ’ß ’£’°’¨’´’Ω ’ß’Ø÷Ä’°’∂’´÷Å’ù ’æ’•÷Ä’°’§’°’Ω÷Å’∂’•’¨ ’æ’•÷Ä÷á
    if (meteor.x > canvas.width || meteor.y > canvas.height) {
        meteor.x = Math.random() * canvas.width;
        meteor.y = -50, -40 , -10 ;
    }
}

function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // ‘±’Ω’ø’≤’•÷Ä
    ctx.fillStyle = "gray", "white";
    stars.forEach((star) => {
        ctx.beginPath();
        ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
        ctx.fill();

        // ’ì’°’µ’¨’•’¨
        ctx.fillStyle = `rgba(200, 200, 200, ${star.alpha})`; // ÷É’°’µ’¨’® ’Ø’°’≠’æ’°’Æ alpha-’´÷Å
        star.y += star.speed;
        if (star.y > canvas.height) {
            star.y = 0;
            star.x = Math.random() * canvas.width;
        }

        // ’ì’∏÷É’∏’≠’•’¨ alpha-’∂
        star.alpha += star.alphaDirection * 0.01;
        if (star.alpha <= 0 || star.alpha >= 1) {
            star.alphaDirection *= -1;
        }
    });

    // ’Ñ’•’ø’•’∏÷Ä’∂’•÷Ä
    meteors.forEach(drawMeteor);

    requestAnimationFrame(draw);
}

draw();

window.addEventListener("resize", () => {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
});

function handleDailyQuest() {
    const lastClaimTime = localStorage.getItem(questCooldownKey);
    const now = new Date().getTime();
    const cooldownTime = 24 * 60 * 60 * 1000; // 24 ’™’°’¥

    if (lastClaimTime && now - lastClaimTime < cooldownTime) {
        document.getElementById("questMessage").innerText = "‚ùå You can enter the code again in 24 hours!";
        return;
    }

    const userCode = document.getElementById("dailyCodeInput").value;
    if (userCode === dailyCode) {
      document.getElementById("questMessage").innerHTML = "‚úÖ Correct code! You earned +1500<i class='fas fa-star'></i>!";        localStorage.setItem(questCooldownKey, now);

        // ‘±’æ’•’¨’°÷Å’∂’•’¨ +1500 score
        let currentScore = parseInt(localStorage.getItem(userScoreKey)) || 0;
        currentScore += 1500;
        localStorage.setItem(userScoreKey, currentScore);

        // ‚úÖ ’ë’∏÷Ç÷Å’°’§÷Ä’•’¨ notification
        showNotification(`+1500 <i class="fas fa-star"></i> Claimed!`);}
        else {
        document.getElementById("questMessage").innerText = "‚ùå Incorrect code! Try again.";
    }
}

// ’ä’°’∞’∫’°’∂’•’∂÷Ñ ’Ω’Ø’¶’¢’∂’°’Ø’°’∂ ’∂’Ø’°÷Ä’∂’•÷Ä’® ÷á ’Ω’•’≤’¥’•’¨’∏÷Ç÷Å ’∞’•’ø’∏ ÷É’∏÷É’∏’≠’æ’∏’≤ ’∂’Ø’°÷Ä’∂’•÷Ä’®
const tabImages = {
        play: {
            default: "Picsart_25-03-28_20-51-07-122.jpg",
            active: "ChatGPT Image Mar 30, 2025, 03_34_08 PM.png"
        },
        home: {
            default: "Picsart_25-03-28_20-52-07-873.jpg",
            active: "ChatGPT Image Mar 30, 2025, 03_34_12 PM.png"
        },
        "daily-reward": {
            default: "Picsart_25-03-28_20-51-28-628.jpg",
            active: "ChatGPT Image Mar 30, 2025, 11_21_31 PM.png"
        },
        profile: {
            default: "Picsart_25-03-28_20-52-49-352.jpg",
            active: "ChatGPT Image Mar 30, 2025, 03_34_04 PM.png"
        },
      

    };

    document.querySelectorAll(".tab-button").forEach(button => {
        button.addEventListener("click", function () {
            // ’Ä’°’∂’∏÷Ç’¥ ’•’∂÷Ñ active ’§’°’Ω’® ’¢’∏’¨’∏÷Ä ’Ø’∏’≥’°’Ø’∂’•÷Ä’´÷Å
            document.querySelectorAll(".tab-button").forEach(btn => {
                btn.classList.remove("active");
                const img = btn.querySelector("img");
                const tabName = btn.getAttribute("data-tab");
                img.src = tabImages[tabName].default; // ’é’•÷Ä’°’§’°÷Ä’±’∂’∏÷Ç’¥ ’•’∂÷Ñ ’∂’∏÷Ä’¥’°’¨ ’∂’Ø’°÷Ä’®
            });

            // ‘±’æ’•’¨’°÷Å’∂’∏÷Ç’¥ ’•’∂÷Ñ active ’§’°’Ω’® ’Ω’•’≤’¥’æ’°’Æ ’Ø’∏’≥’°’Ø’´’∂
            this.classList.add("active");
            const img = this.querySelector("img");
            const tabName = this.getAttribute("data-tab");
            img.src = tabImages[tabName].active; // ’ì’∏’≠’∏÷Ç’¥ ’•’∂÷Ñ ’∂’Ø’°÷Ä’®
        });
    });

  </script>
 <script>
  document.getElementById("buyBtn").addEventListener("click", () => {
    Telegram.WebApp.openInvoice({
      slug: "give-stars-pack-1", // ’Ω’° ÷É’∏’≠’´÷Ä ÷Ñ’∏ slug-’∏’æ
      callback: function(status) {
        if (status === 'paid') {
          alert("’á’∂’∏÷Ä’∞’°’Ø’°’¨’∏÷Ç’©’µ’∏÷Ç’∂ ’£’∂’¥’°’∂ ’∞’°’¥’°÷Ä ‚≠ê");
          // ‘±’µ’Ω’ø’•’≤ ’Ø’°÷Ä’∏’≤ ’•’Ω ’°’æ’•’¨’°÷Å’∂’•’¨ Upgrade logic
          upgradePlayer(); // ÷Ö÷Ä’´’∂’°’Ø, level ’¢’°÷Ä’±÷Ä’°÷Å’∂’´
        }
      }
    });
  });

  function upgradePlayer() {
    // ’ï÷Ä’´’∂’°’Ø’ù playerLevel++ ’Ø’°’¥ skin ’¢’°÷Å’æ’´
    console.log("Player upgraded!");
  }
  function showNotification(message) {
  const notification = document.getElementById('notification');
  notification.textContent = message;
  notification.classList.remove('hidden', 'animate-out');
  notification.classList.add('animate-in');

  setTimeout(() => {
    notification.classList.remove('animate-in');
    notification.classList.add('animate-out');
    setTimeout(() => {
      notification.classList.add('hidden');
    }, 500);
  }, 2000);
}


function openPopup() {
  const popup = document.getElementById("popup");
  popup.style.display = "flex"; // ’æ’•÷Ä’§’°÷Ä’± display
  setTimeout(() => popup.classList.add("active"), 10); // ’¥’´ ÷É’∏÷Ñ÷Ä ’∏÷Ç’∑’°÷Å’∏÷Ç’¥ transition-’´ ’∞’°’¥’°÷Ä
}

  function closePopup() {
    const popup = document.getElementById("popup");
    popup.classList.add("closing");

    setTimeout(() => {
      popup.classList.remove("active", "closing");
      popup.style.display = "none";
    }, 300); // ’∞’°’¥’°’∫’°’ø’°’Ω’≠’°’∂ CSS transition ’™’°’¥’°’∂’°’Ø’® (0.3s)
  }


</script>
<script>
  
// Mystery Box Logic - Customizable Rewards
document.getElementById("mysteryBtn").onclick = () => {
    document.getElementById("mysteryPopup").style.display = "block";
};

document.querySelector(".close").onclick = () => {
    document.getElementById("mysteryPopup").style.display = "none";
};

// ‘ø’°÷Ä’£’°’æ’∏÷Ä’•’¨’´ reward-’∂’•÷Ä’´ ’ø’æ’µ’°’¨’∂’•÷Ä
const REWARD_SETTINGS = {
    tiers: [
        { 
            name: "Common", 
            chance: 0.6, // 60% ’∞’°’æ’°’∂’°’Ø’°’∂’∏÷Ç’©’µ’∏÷Ç’∂
            min: 2500, 
            max: 6000 
        },
        { 
            name: "Uncommon", 
            chance: 0.3, // 30% ’∞’°’æ’°’∂’°’Ø’°’∂’∏÷Ç’©’µ’∏÷Ç’∂
            min: 3000, 
            max: 7000 
        },
        { 
            name: "Rare", 
            chance: 0.1, // 10% ’∞’°’æ’°’∂’°’Ø’°’∂’∏÷Ç’©’µ’∏÷Ç’∂
            min: 10000, 
            max: 14000 
        },

         {
            name: "Legendary",
            chance: 0.05,
            min: 18000,
            max: 20000
          },
          {
            name: "imposibe",
            chance: 0.0005,
            min: 35000,
            max: 50000
          }
    ]
};

document.querySelectorAll(".box").forEach(box => {
    box.onclick = () => {
        const cost = parseInt(box.dataset.cost);
        if (userScore >= cost) {
            // Reward-’´ ’∞’°’∑’æ’°÷Ä’Ø’® ’∂’∏÷Ä ’ø÷Ä’°’¥’°’¢’°’∂’∏÷Ç’©’µ’°’¥’¢
            let random = Math.random();
            let cumulativeChance = 0;
            let selectedTier = REWARD_SETTINGS.tiers[0]; // Default
            
            for (const tier of REWARD_SETTINGS.tiers) {
                cumulativeChance += tier.chance;
                if (random <= cumulativeChance) {
                    selectedTier = tier;
                    break;
                }
            }
            
            const reward = Math.floor(
                Math.random() * (selectedTier.max - selectedTier.min + 1) 
                + selectedTier.min
            );

            userScore -= cost;
            userScore += reward;
            localStorage.setItem("userScore", userScore);
            
            Swal.fire({
    icon: 'success',
    title: 'üéâ Congratulations!',
    html: `You won ${reward} <i class="fas fa-star"></i> (${selectedTier.name} Reward)<br>
           <small>Total <i class="fas fa-star"></i>${userScore}</small>`,
    confirmButtonText: 'OK',
    customClass: {
        popup: 'reward-popup'
    }
});
} else {
Swal.fire({
    icon: 'error',
    title: 'üö´ Error',
    html: `You need ${cost} <i class="fas fa-star"></i><br>
           <small>Current <i class="fas fa-star"></i>${userScore}</small>`,
    confirmButtonText: 'OK',
    customClass: {
        popup: 'error-popup'
    }
            });
        }
    };
});
  </script>

<style>
.swal2-popup {
    font-size: 0,5rem !important;
    border-radius: 22px !important;
}
</style>
</body>
</html>

<!-- <script src="phoneweb.js"></script>
